import{Router}from"express";import Quote from"../models/Quote.js";import crypto from"crypto";import doHttpLog from"../utils/httpLogger.js";import logger from"../services/logger.service.js";const router=Router();router.get("/getQuoteOfTheDay",(async(req,res)=>{const mid=crypto.randomBytes(16).toString("hex");try{Quote.find({genre:"computers"}).count().exec((function(err,count){var random=Math.floor(Math.random()*count);Quote.findOne({genre:"computers"}).skip(random).exec((function(err,result){doHttpLog("RES",mid,req.method,req.originalUrl,req.ip,"Quote of the day fetched sucessfully",200),res.status(200).json({error:!1,message:"Quote of the day fetched sucessfully",quote:result})}))}))}catch(err){doHttpLog("RES",mid,req.method,req.originalUrl,err.message,500),logger.error("API|quotes.js|/getQuoteOfTheDay|"+err.message),res.status(500).json({message:err.message})}}));export default router;